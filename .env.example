# =============================================================================
# Environment Configuration for bike-data-flow
# =============================================================================
# 
# This file contains all configuration variables for the bike-data-flow project.
# Sensitive values (passwords, API keys, tokens) have been migrated to HashiCorp Vault.
# See docs/secret-migration-guide.md for more information.
#
# To enable Vault integration, set VAULT_ENABLED=true and configure:
#   - VAULT_ADDR
#   - VAULT_ROLE_ID
#   - VAULT_SECRET_ID
#
# =============================================================================

# -----------------------------------------------------------------------------
# Vault Configuration (required for sensitive secrets)
# -----------------------------------------------------------------------------
VAULT_ENABLED=false
VAULT_ADDR=https://vault.internal.bike-data-flow.com:8200
VAULT_ROLE_ID=#MIGRATED_TO_VAULT_VAULT_ROLE_ID
VAULT_SECRET_ID=#MIGRATED_TO_VAULT_VAULT_SECRET_ID
# VAULT_NAMESPACE= # For Vault Enterprise

# -----------------------------------------------------------------------------
# S3/MinIO Storage Configuration
# -----------------------------------------------------------------------------
S3_ENDPOINT_URL=https://s3.hetzner.example.com
S3_ACCESS_KEY_ID=#MIGRATED_TO_VAULT_S3_ACCESS_KEY_ID
S3_SECRET_ACCESS_KEY=#MIGRATED_TO_VAULT_S3_SECRET_ACCESS_KEY
S3_REGION_NAME=eu-central-1
BUCKET_NAME=bike-data

# Hetzner Object Storage (alternative S3-compatible)
HETZNER_ENDPOINT=#MIGRATED_TO_VAULT_HETZNER_ENDPOINT
HETZNER_ENDPOINT_URL=#MIGRATED_TO_VAULT_HETZNER_ENDPOINT_URL
HETZNER_ACCESS_KEY_ID=#MIGRATED_TO_VAULT_HETZNER_ACCESS_KEY_ID
HETZNER_SECRET_ACCESS_KEY=#MIGRATED_TO_VAULT_HETZNER_SECRET_ACCESS_KEY

# -----------------------------------------------------------------------------
# PostgreSQL Database Configuration
# -----------------------------------------------------------------------------
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=#MIGRATED_TO_VAULT_POSTGRES_DB
POSTGRES_USER=#MIGRATED_TO_VAULT_POSTGRES_USER
POSTGRES_PASSWORD=#MIGRATED_TO_VAULT_POSTGRES_PASSWORD

# -----------------------------------------------------------------------------
# Application Secrets (all migrated to Vault)
# -----------------------------------------------------------------------------
# API Keys - Store in Vault at bike-data-flow/production/api
API_KEY=#MIGRATED_TO_VAULT_API_KEY
AUTH_TOKEN=#MIGRATED_TO_VAULT_AUTH_TOKEN
API_SECRET=#MIGRATED_TO_VAULT_API_SECRET

# Application Secrets - Store in Vault at bike-data-flow/production/app
SECRET_KEY=#MIGRATED_TO_VAULT_SECRET_KEY
ENCRYPTION_KEY=#MIGRATED_TO_VAULT_ENCRYPTION_KEY
SESSION_SECRET=#MIGRATED_TO_VAULT_SESSION_SECRET

# -----------------------------------------------------------------------------
# Non-Sensitive Configuration (can remain in .env)
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
DEBUG=false
ENVIRONMENT=development

# WRM Data URLs (non-sensitive, can remain here)
WRM_FAILURES_DATA_URL=https://www.wroclaw.pl/open-data/39605eb0-8055-4733-bb02-04b96791d36a/WRM_usterki.csv
WRM_STATIONS_DATA_URL=https://gladys.geog.ucl.ac.uk/bikesapi/load.php?scheme=wroclaw

# -----------------------------------------------------------------------------
# File Naming Configuration
# -----------------------------------------------------------------------------
WRM_FAILURES_BASE_FILENAME=wrm_failures
WRM_STATION_BASE_FILENAME=station_data
CSV_EXTENSION=csv

# Storage paths (no sensitive data)
WRM_FAILURES_TARGET_FOLDER=bike-data/failures/
WRM_STATIONS_S3_PREFIX=bike-data/gen_info/

# -----------------------------------------------------------------------------
# Dagster Configuration
# -----------------------------------------------------------------------------
DAGSTER_HOME=~/.dagster
DAGSTER_TELEMETRY_ENABLED=false
